<html><head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Daily Planner</title>
<style>
:root {
  --primary: #1a237e;
  --secondary: #283593;
  --success: #1b5e20;
  --background: #f5f6fa;
  --text: #263238;
  --border: #e0e0e0;
}

body {
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  margin: 0;
  padding: 20px;
  background: var(--background);
  color: var(--text);
  line-height: 1.6;
}

.container {
  max-width: 900px;
  margin: 0 auto;
  background: white;
  padding: 30px;
  border-radius: 12px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.08);
}

h1 {
  color: var(--primary);
  text-align: center;
  margin-bottom: 30px;
  font-weight: 700;
  font-size: 2.2em;
  letter-spacing: -0.5px;
}

.add-task {
  display: flex;
  gap: 15px;
  margin-bottom: 30px;
  background: #fafbff;
  padding: 20px;
  border-radius: 8px;
  border: 1px solid #e8eaf6;
}

.template-controls {
  margin: 20px 0;
  padding: 20px;
  background: #fafbff;
  border-radius: 8px;
  display: flex;
  gap: 15px;
  align-items: center;
  border: 1px solid #e8eaf6;
}

.template-controls input {
  flex: 1;
}

.template-controls select {
  min-width: 200px;
}

.template-controls .delete-btn {
  padding: 12px 25px;
  font-size: 16px;
  opacity: 1;
}

input, select {
  padding: 12px 15px;
  border: 2px solid var(--border);
  border-radius: 6px;
  font-size: 16px;
  transition: border-color 0.3s, box-shadow 0.3s;
  background: white;
}

input:focus {
  outline: none;
  border-color: var(--primary);
  box-shadow: 0 0 0 3px rgba(26, 35, 126, 0.1);
}

input[type="text"] {
  flex: 1;
}

button {
  background: var(--primary);
  color: white;
  border: none;
  padding: 12px 25px;
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.3s ease;
  font-weight: 600;
  display: flex;
  align-items: center;
  gap: 8px;
}

button:hover {
  background: var(--secondary);
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(26, 35, 126, 0.2);
}

.task-list {
  display: flex;
  flex-direction: column;
  gap: 12px;
}

.task-item {
  display: flex;
  align-items: center;
  padding: 20px;
  background: white;
  border-radius: 10px;
  gap: 20px;
  animation: slideIn 0.3s ease-out;
  border: 1px solid var(--border);
  transition: all 0.3s ease;
  box-shadow: 0 2px 8px rgba(0,0,0,0.06);
  position: relative;
  overflow: hidden;
}

.task-item::before {
  content: '';
  position: absolute;
  left: 0;
  top: 0;
  width: 4px;
  height: 100%;
  background: var(--primary);
  opacity: 0.6;
}

.task-item.completed {
  background: #f8f9fa;
  border-color: #e9ecef;
  animation: eraseEffect 1s ease-out forwards;
}

.task-item.completed .task-content {
  text-decoration: line-through;
  opacity: 0.7;
  position: relative;
}

.task-item.completed .task-content::after {
  content: '';
  position: absolute;
  left: 0;
  top: 50%;
  width: 100%;
  height: 2px;
  background: #000;
  transform-origin: left;
  animation: strikeThrough 1s ease-out forwards;
}

.task-item:hover {
  transform: translateX(5px);
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}

.task-time {
  min-width: 100px;
  color: var(--primary);
  font-weight: 600;
  font-size: 0.95em;
  font-family: 'Monaco', monospace;
  background: #f8f9fc;
  padding: 6px 12px;
  border-radius: 4px;
  text-align: center;
}

.task-content {
  flex: 1;
  font-size: 1.1em;
  color: var(--text);
  font-weight: 500;
  letter-spacing: 0.2px;
}

.delete-btn {
  background: #d32f2f;
  padding: 8px 12px;
  font-size: 14px;
  border-radius: 4px;
  opacity: 0.8;
}

.delete-btn:hover {
  background: #b71c1c;
  opacity: 1;
}

.reset-btn {
  margin-top: 15px;
  background: #d32f2f;
  padding: 12px 25px;
  font-size: 16px;
  opacity: 0.8;
}

.reset-btn:hover {
  background: #b71c1c;
  opacity: 1;
  box-shadow: 0 4px 12px rgba(211, 47, 47, 0.2);
}

@keyframes slideIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes eraseEffect {
  0% {
    transform: translateX(0);
    opacity: 1;
  }
  20% {
    transform: translateX(5px);
  }
  40% {
    transform: translateX(-3px);
  }
  60% {
    transform: translateX(2px);
    opacity: 0.8;
  }
  100% {
    transform: translateX(0);
    background: #fafafa;
    opacity: 0.7;
  }
}

@keyframes strikeThrough {
  0% {
    transform: scaleX(0);
  }
  100% {
    transform: scaleX(1);
  }
}

.progress-container {
  margin-top: 30px;
  padding: 25px;
  background: white;
  border-radius: 12px;
  box-shadow: 0 2px 15px rgba(0,0,0,0.05);
  border: 1px solid var(--border);
}

.progress-container h3 {
  margin: 0 0 15px 0;
  color: var(--primary);
  font-weight: 600;
}

.progress-bar {
  height: 12px;
  background: #f5f5f5;
  border-radius: 6px;
  overflow: hidden;
  margin-top: 10px;
  border: 1px solid #e0e0e0;
}

.progress {
  height: 100%;
  background: var(--success);
  width: 0%;
  transition: width 0.4s ease;
}

#progressText {
  color: var(--secondary);
  font-weight: 500;
  margin-top: 10px;
}

.perfect-days-counter {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 4px;
  margin-top: 15px;
  flex-wrap: wrap;
  background: #1B6308;
  padding: 12px;
  border-radius: 24px;
  width: fit-content;
  margin-left: auto;
  margin-right: auto;
}

.perfect-day-item {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-width: 50px;
}

.day-label {
  font-size: 0.8em;
  color: black;
  text-align: center; 
  margin-top: 4px;
}

.perfect-day-circle {
  width: 32px;
  height: 32px;
  border-radius: 50%;
  background: #f5f6fa;
  border: 2px solid #e0e0e0;
  display: flex;
  align-items: center;
  justify-content: center;
  transition: all 0.3s ease;
  margin: 0 4px;
}

.perfect-day-circle svg {
  width: 18px;
  height: 18px;
  opacity: 1;
  stroke: black;
  transition: all 0.3s ease;
}

.perfect-day-circle.completed {
  background-color: #90EE90; 
  border-color: #90EE90;
}

.perfect-day-circle.completed svg {
  stroke: white;
}

input[type="checkbox"] {
  width: 20px;
  height: 20px;
  border-radius: 4px;
  cursor: pointer;
  border: 2px solid var(--primary);
}
</style>
</head>
<body>
<div class="container">
  <h1>&#x1f5d3;Daily Planner</h1>
  
  <div class="template-controls">
    <input type="text" id="templateName" placeholder="Template name">
    <button onclick="saveTemplate()">Save as Template</button>
    <select id="templateSelect" onchange="loadTemplate()">
      <option value>Load Template</option>
    </select>
    <button onclick="deleteTemplate()" class="delete-btn">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      Delete Template
    </button>
  </div>

  <div class="progress-container">
    <h3>Daily Progress Overview</h3>
    <div class="progress-bar">
      <div class="progress" id="progressBar"></div>
    </div>
    <p id="progressText">Completed: 0%</p>
    <div class="perfect-days-counter">
      <div class="perfect-day-item">
        <div class="perfect-day-circle" id="monCircle">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M20 6L9 17l-5-5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="day-label">Mon</div>
      </div>
      <div class="perfect-day-item">
        <div class="perfect-day-circle" id="tueCircle">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M20 6L9 17l-5-5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="day-label">Tue</div>
      </div>
      <div class="perfect-day-item">
        <div class="perfect-day-circle" id="wedCircle">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M20 6L9 17l-5-5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="day-label">Wed</div>
      </div>
      <div class="perfect-day-item">
        <div class="perfect-day-circle" id="thuCircle">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M20 6L9 17l-5-5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="day-label">Thu</div>
      </div>
      <div class="perfect-day-item">
        <div class="perfect-day-circle" id="friCircle">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M20 6L9 17l-5-5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="day-label">Fri</div>
      </div>
      <div class="perfect-day-item">
        <div class="perfect-day-circle" id="satCircle">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M20 6L9 17l-5-5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="day-label">Sat</div>
      </div>
      <div class="perfect-day-item">
        <div class="perfect-day-circle" id="sunCircle">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor">
            <path d="M20 6L9 17l-5-5" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
          </svg>
        </div>
        <div class="day-label">Sun</div>
      </div>
    </div>
    <button onclick="resetProgress()" class="reset-btn">
      <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor">
        <path d="M3 12a9 9 0 1 1 9 9M3 12h9" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      </svg>
      Reset Progress
    </button>
  </div>

  <div class="add-task">
    <input type="text" id="taskInput" placeholder="Enter your task description">
    <input type="time" id="timeInput">
    <button onclick="addTask()">
      <svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path d="M8 1V15M1 8H15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      </svg>
      Add Task
    </button>
  </div>

  <div class="task-list" id="taskList">
    <!-- Tasks will be added here dynamically -->
  </div>

</div>

<script>let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
let templates = JSON.parse(localStorage.getItem('templates')) || {};
let perfectDaysCount = parseInt(localStorage.getItem('perfectDays')) || 0;
function initializeTemplateSelect() {
  const templateSelect = document.getElementById('templateSelect');
  templateSelect.innerHTML = '<option value="">Load Template</option>';
  Object.keys(templates).forEach(templateName => {
    const option = document.createElement('option');
    option.value = templateName;
    option.textContent = templateName;
    templateSelect.appendChild(option);
  });
}
function saveTemplate() {
  const templateName = document.getElementById('templateName').value.trim();
  if (!templateName) {
    alert('Please enter a template name');
    return;
  }
  templates[templateName] = tasks.map(task => ({
    content: task.content,
    time: task.time
  }));
  localStorage.setItem('templates', JSON.stringify(templates));
  initializeTemplateSelect();
  document.getElementById('templateName').value = '';
  alert('Template saved successfully!');
}
function loadTemplate() {
  const templateName = document.getElementById('templateSelect').value;
  if (!templateName) return;
  const template = templates[templateName];
  tasks = template.map(task => ({
    id: Date.now() + Math.random(),
    content: task.content,
    time: task.time,
    completed: false,
    createdAt: new Date().toISOString()
  }));
  saveTasks();
  renderTasks();
}
function addTask() {
  const taskInput = document.getElementById('taskInput');
  const timeInput = document.getElementById('timeInput');
  if (taskInput.value.trim() === '' || timeInput.value === '') {
    alert('Please fill in both task description and time.');
    return;
  }
  const task = {
    id: Date.now(),
    content: taskInput.value,
    time: timeInput.value,
    completed: false,
    createdAt: new Date().toISOString()
  };
  tasks.push(task);
  saveTasks();
  renderTasks();
  taskInput.value = '';
  timeInput.value = '';
  taskInput.focus();
}
function toggleTask(id) {
  tasks = tasks.map(task => {
    if (task.id === id) {
      return {
        ...task,
        completed: !task.completed
      };
    }
    return task;
  });
  saveTasks();
  renderTasks();
  updateProgress();
}
function deleteTask(id) {
  if (confirm('Are you sure you want to delete this task?')) {
    tasks = tasks.filter(task => task.id !== id);
    saveTasks();
    renderTasks();
    updateProgress();
  }
}
function saveTasks() {
  localStorage.setItem('tasks', JSON.stringify(tasks));
}
function updateProgress() {
  const total = tasks.length;
  const completed = tasks.filter(task => task.completed).length;
  const percentage = total === 0 ? 0 : Math.round(completed / total * 100);
  const progressBar = document.getElementById('progressBar');
  progressBar.style.width = `${percentage}%`;
  document.getElementById('progressText').textContent = `Completed: ${completed} of ${total} tasks (${percentage}%)`;
  if (percentage === 100 && total > 0) {
    const today = new Date().getDay();
    const days = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];
    const currentDay = days[today];
    const weeklyProgress = JSON.parse(localStorage.getItem('weeklyProgress') || '{}');
    weeklyProgress[currentDay] = true;
    localStorage.setItem('weeklyProgress', JSON.stringify(weeklyProgress));
    document.getElementById(`${currentDay}Circle`).classList.add('completed');
  }
}
function renderTasks() {
  const taskList = document.getElementById('taskList');
  taskList.innerHTML = '';
  tasks.sort((a, b) => a.time.localeCompare(b.time));
  tasks.forEach(task => {
    const taskElement = document.createElement('div');
    taskElement.className = `task-item ${task.completed ? 'completed' : ''}`;
    taskElement.innerHTML = `
            <input type="checkbox" ${task.completed ? 'checked' : ''} 
                   onchange="toggleTask(${task.id})">
            <span class="task-time">${task.time}</span>
            <span class="task-content">${task.content}</span>
            <button class="delete-btn" onclick="deleteTask(${task.id})">
                <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor">
                    <path d="M3 6h18M19 6v14a2 2 0 01-2 2H7a2 2 0 01-2-2V6m3 0V4a2 2 0 012-2h4a2 2 0 012 2v2" 
                          stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
        `;
    taskList.appendChild(taskElement);
  });
  updateProgress();
  updatePerfectDayDisplay();
}
function deleteTemplate() {
  const templateName = document.getElementById('templateSelect').value;
  if (!templateName) {
    alert('Please select a template to delete');
    return;
  }
  if (confirm(`Are you sure you want to delete template "${templateName}"?`)) {
    delete templates[templateName];
    localStorage.setItem('templates', JSON.stringify(templates));
    initializeTemplateSelect();
    alert('Template deleted successfully!');
  }
}
function resetProgress() {
  if (confirm('Are you sure you want to reset all progress? This will uncheck all completed tasks.')) {
    tasks = tasks.map(task => ({
      ...task,
      completed: false
    }));
    saveTasks();
    renderTasks();
    updateProgress();
    const days = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];
    days.forEach(day => {
      document.getElementById(`${day}Circle`).classList.remove('completed');
    });
    localStorage.removeItem('lastPerfectDay');
    localStorage.removeItem('weeklyProgress');
  }
}
function updatePerfectDayDisplay() {
  const days = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];
  const today = new Date().getDay();
  days.forEach(day => {
    document.getElementById(`${day}Circle`).classList.remove('completed');
  });
  if (tasks.length > 0 && tasks.every(task => task.completed)) {
    const currentDay = days[today];
    document.getElementById(`${currentDay}Circle`).classList.add('completed');
  }
}
function loadWeeklyProgress() {
  const days = ['sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat'];
  const weeklyProgress = JSON.parse(localStorage.getItem('weeklyProgress') || '{}');
  days.forEach(day => {
    if (weeklyProgress[day]) {
      document.getElementById(`${day}Circle`).classList.add('completed');
    }
  });
}
renderTasks();
initializeTemplateSelect();
loadWeeklyProgress();
document.addEventListener('keypress', function (e) {
  if (e.key === 'Enter') {
    addTask();
  }
});
document.getElementById('taskInput').focus();
updatePerfectDayDisplay();</script>
</body>
</html>
